<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–ª—è —Ç–µ–±—è ‚ù§Ô∏è</title>
    <style>
        :root { --main-pink: #ff4d6d; --bg-pink: #fff0f3; }
        body { margin: 0; min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--bg-pink); font-family: 'Georgia', serif; overflow-x: hidden; transition: 2s; }
        .card { text-align: center; background: white; padding: 25px; border-radius: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); z-index: 10; width: 90%; max-width: 500px; position: relative; }
        .photo-frame { width: 150px; height: 150px; margin: 0 auto 15px; border-radius: 20px; overflow: hidden; border: 4px solid var(--main-pink); }
        .photo-frame img { width: 100%; height: 100%; object-fit: cover; }
        h1, h2 { color: #d62828; font-size: 18px; margin-bottom: 15px; line-height: 1.4; }
        .btns { display: flex; justify-content: center; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
        button { padding: 12px 20px; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; background: var(--main-pink); color: white; transition: 0.3s; }
        #no { background: #adb5bd; position: relative; }
        .hidden { display: none; }
        .scroll-area { max-height: 350px; overflow-y: auto; text-align: left; padding: 10px; border-top: 1px solid #eee; }
        input { padding: 12px; border-radius: 10px; border: 1px solid #ffb1c1; width: 93%; margin: 8px 0; }
        .item-card { display: flex; align-items: center; gap: 15px; background: #fff5f6; padding: 10px; border-radius: 15px; margin: 10px 0; border: 1px solid #ffe3e8; cursor: pointer; }
        .item-card img { width: 60px; height: 80px; border-radius: 8px; object-fit: cover; flex-shrink: 0; }
        .item-info b { font-size: 15px; color: var(--main-pink); }
        .item-info small { font-size: 12px; color: #666; display: block; }
        #final-msg { border: 2px solid #ffd700; background: #fffdf0; padding: 20px; border-radius: 20px; font-style: italic; line-height: 1.6; margin-top: 15px; }
        .dark-mode { background: #1a1a1a !important; }
        .heart { position: fixed; top: -20px; color: var(--main-pink); animation: fall linear infinite; z-index: 1; pointer-events: none; }
        .star { position: fixed; background: white; border-radius: 50%; z-index: 1; animation: starFall linear infinite; opacity: 0; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        @keyframes starFall { 0% { transform: translate(0,0) scale(0); opacity: 1; } 100% { transform: translate(-100px, 110vh) scale(1); opacity: 0; } }
    </style>
</head>
<body>

    <audio id="bgMusic" loop><source src="urban_melody.mp3" type="audio/mpeg"></audio>

    <div class="card" id="box">
        <!-- –®–ê–ì 1 -->
        <div id="s1">
            <div style="font-size: 10px; color: #888; margin-bottom: 5px;">üé∂ Urban Melody - IVOXYGEN</div>
            <div class="photo-frame"><img src="https://media.giphy.com"></div>
            <h1>–õ—é–±–∏–º—ã–π, —ç—Ç–æ —Ç–µ–±–µ! ‚ù§Ô∏è<br>–ë—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h1>
            <div class="btns"><button id="yes">–î–ê!</button><button id="no">–ù–µ—Ç</button></div>
        </div>

        <!-- –®–ê–ì 2 -->
        <div id="s2" class="hidden">
            <h2>–ü—É—Å—Ç—å –≥–æ—Ä—ã —Å—Ç–∞–Ω—É—Ç –ø—Ä–∞—Ö–æ–º, –∏ —Ä–µ–∫–∏ –≤—ã—Å–æ—Ö–Ω—É—Ç –¥–æ –¥–Ω–∞,<br>–ù–æ —Å–µ—Ä–¥—Ü–µ –≤–µ—Ä–Ω–æ–µ –º–æ—ë ‚Äî –∫–∞–∫ –≤–µ—á–Ω–∞—è –ª—É–Ω–∞. ‚ù§Ô∏è</h2>
            <button onclick="go(3)">–£–∑–Ω–∞—Ç—å —Ç–µ–±—è –ª—É—á—à–µ ‚ú®</button>
        </div>

        <!-- –®–ê–ì 3 -->
        <div id="s3" class="hidden">
            <h2>–ú–∏–Ω–∏-–∞–Ω–∫–µ—Ç–∞ ‚ù§Ô∏è</h2>
            <div class="scroll-area">
                <input type="text" id="q1" placeholder="–¢–≤–æ–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ —É—Ç—Ä–æ —Å–æ –º–Ω–æ–π?">
                <input type="text" id="q2" placeholder="–ü–µ—Å–Ω—è –æ –Ω–∞—Å?">
                <input type="text" id="q3" placeholder="–ö—É–¥–∞ —É–ª–µ—Ç–∏–º –∑–∞–≤—Ç—Ä–∞?">
                <input type="text" id="q4" placeholder="–õ—É—á—à–µ–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ?">
                <input type="text" id="q5" placeholder="–ß—Ç–æ –≤–æ –º–Ω–µ —Ç–µ–±—è —Ä–∞–¥—É–µ—Ç?">
            </div>
            <button onclick="saveAnswers()" style="width:100%; margin-top:10px;">–ö –≤—ã–±–æ—Ä—É –º–µ–Ω—é ‚ù§Ô∏è</button>
        </div>

        <!-- –®–ê–ì 4 -->
        <div id="s4" class="hidden">
            <h2>–ù–∞—à —É–∂–∏–Ω ü•ò</h2>
            <div class="scroll-area" id="food-list"></div>
            <button onclick="go(5)" style="width:100%; margin-top:10px; background:#fb8500;">–î–∞–ª—å—à–µ –∫ –∫–∏–Ω–æ üé¨</button>
        </div>

        <!-- –®–ê–ì 5 -->
        <div id="s5" class="hidden">
            <h2>–ß—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–∏–º? üçø</h2>
            <div class="btns">
                <button onclick="render('anime')">–ê–Ω–∏–º–µ</button>
                <button onclick="render('movie')">–ö–∏–Ω–æ</button>
                <button onclick="render('series')">–°–µ—Ä–∏–∞–ª—ã</button>
            </div>
            <div class="scroll-area" id="media-list"></div>
            <button onclick="pickRandom()" style="background:#6a0572; width:100%; margin-top:10px;">üé≤ –†–∞–Ω–¥–æ–º</button>
            
            <div id="final" class="hidden">
                <div id="summary" style="background:#fdf2f4; padding:15px; border-radius:15px; text-align:left; font-size:14px; margin:15px 0;"></div>
                <div id="choice-res"></div>
                <div id="final-msg">
                    –Ø –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é —Ç–µ–±—è! –¢—ã ‚Äî –º–æ—è –≥–ª–∞–≤–Ω–∞—è –æ–ø–æ—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –ú—ã –ø—Ä–æ–π–¥–µ–º –ª—é–±—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏, –∏ —è –≤—Å–µ–≥–¥–∞ –±—É–¥—É —Ç–≤–æ–∏–º –∫—Ä–µ–ø–∫–∏–º —Ç—ã–ª–æ–º. –¢—ã ‚Äî –º–æ—ë –≤—Å—ë! ‚ù§Ô∏è
                </div>
                <p style="color:var(--main-pink); font-weight:bold; margin-top:10px;">–ó–∞—Å–∫—Ä–∏–Ω—å –∏ –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ! üì∏</p>
            </div>
        </div>
    </div>

    <script>
        const music = document.getElementById('bgMusic');
        let ans = {};

        const foodData = [
            {n: "–ü–∞—Å—Ç–∞ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –≥—Ä–∏–±–∞–º–∏", d: "–°–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å.", i: "https://povar.ru"},
            {n: "–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å", d: "–ö—É—Ä–∏—Ü–∞ –∏ —Å—É—Ö–∞—Ä–∏–∫–∏.", i: "https://povar.ru"},
            {n: "–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç", d: "–°–≤–µ–∂–µ—Å—Ç—å –∏ –æ–≤–æ—â–∏.", i: "https://povar.ru"},
            {n: "–ö—É—Ä–æ—á–∫–∞ —Å –ø—é—Ä–µ", d: "–î–æ–º–∞—à–Ω–∏–π —É—é—Ç.", i: "https://povar.ru"},
            {n: "–î–æ–º–∞—à–Ω–∏–µ –±—É—Ä–≥–µ—Ä—ã", d: "–°—ã—Ç–Ω–æ –∏ –≤–∫—É—Å–Ω–æ.", i: "https://povar.ru"}
        ];

        const mediaData = {
            anime: [
                {n: "–¢–≤–æ–µ –∏–º—è", d: "–°–≤—è–∑—å –¥—É—à.", i: "https://st.kp.yandex.net"},
                {n: "–§–æ—Ä–º–∞ –≥–æ–ª–æ—Å–∞", d: "–û –ø—Ä–æ—â–µ–Ω–∏–∏.", i: "https://st.kp.yandex.net"},
                {n: "–•–æ–¥—è—á–∏–π –∑–∞–º–æ–∫", d: "–ú–∞–≥–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–•–æ—Ä–∏–º–∏—è", d: "–ú–∏–ª–∞—è –ª—é–±–æ–≤—å.", i: "https://st.kp.yandex.net"},
                {n: "–°–∞–¥ –∏–∑—è—â–Ω—ã—Ö —Å–ª–æ–≤", d: "–®–µ–¥–µ–≤—Ä.", i: "https://st.kp.yandex.net"},
                {n: "–í–∞–π–æ–ª–µ—Ç –≠–≤–µ—Ä–≥–∞—Ä–¥–µ–Ω", d: "–û –ª—é–±–≤–∏.", i: "https://st.kp.yandex.net"},
                {n: "–ï–µ –∑–∞–≤–µ—Ç–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ", d: "–î—Ä–∞–º–∞.", i: "https://st.kp.yandex.net"},
                {n: "–¢–æ—Ä–∞–¥–æ—Ä–∞!", d: "–ö–æ–º–µ–¥–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–ü—è—Ç—å —Å–º –≤ —Å–µ–∫—É–Ω–¥—É", d: "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ.", i: "https://st.kp.yandex.net"},
                {n: "–ö–æ—à–µ—á–∫–∞ –∏–∑ –°–∞–∫—É—Ä–∞—Å–æ", d: "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ.", i: "https://st.kp.yandex.net"}
            ],
            movie: [
                {n: "–î–æ –≤—Å—Ç—Ä–µ—á–∏ —Å —Ç–æ–±–æ–π", d: "–ü—Ä–æ–Ω–∑–∏—Ç–µ–ª—å–Ω–æ.", i: "https://st.kp.yandex.net"},
                {n: "–õ–∞-–õ–∞ –õ–µ–Ω–¥", d: "–û –º–µ—á—Ç–∞—Ö.", i: "https://st.kp.yandex.net"},
                {n: "–î–Ω–µ–≤–Ω–∏–∫ –ø–∞–º—è—Ç–∏", d: "–í–µ—á–Ω–∞—è –ª—é–±–æ–≤—å.", i: "https://st.kp.yandex.net"},
                {n: "–ë–æ–π—Ñ—Ä–µ–Ω–¥ –∏–∑ –±—É–¥—É—â–µ–≥–æ", d: "–û –≤—Ä–µ–º–µ–Ω–∏.", i: "https://st.kp.yandex.net"},
                {n: "–ü–æ–ª–Ω–æ—á—å –≤ –ü–∞—Ä–∏–∂–µ", d: "–ú–∞–≥–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–í–∏–Ω–æ–≤–∞—Ç—ã –∑–≤–µ–∑–¥—ã", d: "–°–∏–ª—å–Ω–∞—è –¥—Ä–∞–º–∞.", i: "https://st.kp.yandex.net"},
                {n: "–í –º–µ—Ç—Ä–µ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞", d: "–ë–ª–∏–∑–∫–æ.", i: "https://st.kp.yandex.net"},
                {n: "–° –ª—é–±–æ–≤—å—é, –†–æ–∑–∏", d: "–î—Ä—É–∂–±–∞.", i: "https://st.kp.yandex.net"},
                {n: "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", d: "–ö–æ–º–µ–¥–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–í–µ—á–Ω–æ–µ —Å–∏—è–Ω–∏–µ...", d: "–ì–µ–Ω–∏–∞–ª—å–Ω–æ.", i: "https://st.kp.yandex.net"}
            ],
            series: [
                {n: "–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –ª—é–¥–∏", d: "–•–∏–º–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–ê–ª—ã–µ —Å–µ—Ä–¥—Ü–∞", d: "–î–æ—Ä–∞–º–∞.", i: "https://st.kp.yandex.net"},
                {n: "–û–¥–∏–Ω –¥–µ–Ω—å", d: "–ò—Å—Ç–æ—Ä–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–î–µ–º–æ–Ω", d: "–§—ç–Ω—Ç–µ–∑–∏.", i: "https://st.kp.yandex.net"},
                {n: "–î—Ä—É–∑—å—è", d: "–£—é—Ç.", i: "https://st.kp.yandex.net"},
                {n: "–ü–æ—Å—Ç—É—á–∏—Å—å –≤ –º–æ—é –¥–≤–µ—Ä—å", d: "–¢—É—Ä—Ü–∏—è.", i: "https://st.kp.yandex.net"},
                {n: "–≠–Ω–Ω", d: "–ù–µ–∂–Ω–æ.", i: "https://st.kp.yandex.net"},
                {n: "–≠—Ç–æ –º—ã", d: "–û —Å–µ–º—å–µ.", i: "https://st.kp.yandex.net"},
                {n: "–≠–º–∏–ª–∏ –≤ –ü–∞—Ä–∏–∂–µ", d: "–ú–æ–¥–∞.", i: "https://st.kp.yandex.net"},
                {n: "–ú–æ–π –¥–µ–º–æ–Ω", d: "–°—Ç–∏–ª—å–Ω–æ.", i: "https://st.kp.yandex.net"}
            ]
        };

        document.getElementById('no').onmouseover = (e) => {
            e.target.style.position = 'fixed';
            e.target.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            e.target.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        };

        document.getElementById('yes').onclick = () => { music.play(); go(2); };

        function go(s) {
            document.querySelectorAll('#box > div').forEach(d => d.classList.add('hidden'));
            document.getElementById('s' + s).classList.remove('hidden');
            if(s === 2) setInterval(spawnHeart, 300);
            if(s === 4) document.getElementById('food-list').innerHTML = foodData.map(f => `<div class="item-card"><img src="${f.i}"><div class="item-info"><b>${f.n}</b><small>${f.d}</small></div></div>`).join('');
        }

        function saveAnswers() {
            ans = {u: document.getElementById('q1').value, p: document.getElementById('q2').value, m: document.getElementById('q3').value, v: document.getElementById('q4').value, r: document.getElementById('q5').value};
            go(4);
        }

        function render(t) {
            document.getElementById('media-list').innerHTML = mediaData[t].map(m => `<div class="item-card" onclick="showFinal('${m.n}', '${m.i}')"><img src="${m.i}"><div class="item-info"><b>${m.n}</b><small>${m.d}</small></div></div>`).join('');
        }

        function showFinal(n, i) {
            document.querySelectorAll('#s5 h2, #s5 .btns, #s5 > button, #media-list').forEach(el => el.classList.add('hidden'));
            document.getElementById('final').classList.remove('hidden');
            document.getElementById('summary').innerHTML = `<b>–¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã:</b><br>‚òÄÔ∏è –£—Ç—Ä–æ: ${ans.u}<br>üé∂ –ü–µ—Å–Ω—è: ${ans.p}<br>‚úàÔ∏è –ü–æ–ª–µ—Ç: ${ans.m}<br>üíï –ü–∞–º—è—Ç—å: ${ans.v}<br>üòä –†–∞–¥–æ—Å—Ç—å: ${ans.r}`;
            document.getElementById('choice-res').innerHTML = `<h3>–ù–∞—à –≤—ã–±–æ—Ä: ${n}</h3><img src="${i}" style="width:120px; border-radius:15px; border:3px solid var(--main-pink);">`;
            document.body.classList.add('dark-mode');
            setInterval(spawnStar, 100);
        }

        function pickRandom() {
            const all = [...mediaData.anime, ...mediaData.movie, ...mediaData.series];
            const r = all[Math.floor(Math.random() * all.length)];
            showFinal(r.n, r.i);
        }

        function spawnHeart() {
            const h = document.createElement('div'); h.className = 'heart'; h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random() * 100 + 'vw'; h.style.animationDuration = Math.random() * 2 + 3 + 's';
            document.body.appendChild(h); setTimeout(() => h.remove(), 5000);
        }

        function spawnStar() {
            const s = document.createElement('div'); s.className = 'star';
            const sz = Math.random() * 3 + 1 + 'px'; s.style.width = sz; s.style.height = sz;
            s.style.left = Math.random() * 100 + 'vw'; s.style.top = Math.random() * 100 + 'vh';
            s.style.animationDuration = Math.random() * 1 + 1 + 's';
            document.body.appendChild(s); setTimeout(() => s.remove(), 2000);
        }
    </script>
</body>
</html>
